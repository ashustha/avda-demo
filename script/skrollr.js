!function(h,T,C){"use strict";function x(e,t){return t.toUpperCase()}var y,b,H={get:function(){return P},init:function(e){return P||new t(e)},VERSION:"0.6.30"},W=Object.prototype.hasOwnProperty,S=h.Math,l=h.getComputedStyle,E="touchstart",A="touchmove",F="touchcancel",Z="touchend",D="skrollable",J=D+"-before",Q=D+"-between",ee=D+"-after",r="skrollr",s="no-"+r,f=r+"-desktop",u=r+"-mobile",m="linear",p=.004,g="skrollr-body",v=200,te="center",ne="bottom",k="___skrollable_id",re=/^(?:input|textarea|button|select)$/i,n=/^\s+|\s+$/g,oe=/^data(?:-(_\w+))?(?:-?(-?\d*\.?\d+p?))?(?:-?(start|end|top|center|bottom))?(?:-?(top|center|bottom))?$/,ae=/\s*(@?[\w\-\[\]]+)\s*:\s*(.+?)\s*(?:;|$)/gi,ie=/^(@?[a-z\-]+)\[(\w+)\]$/,le=/-([a-z0-9_])/g,se=/[\-+]?[\d]*\.?[\d]+/g,ce=/\{\?\}/g,fe=/rgba?\(\s*-?\d+\s*,\s*-?\d+\s*,\s*-?\d+/g,ue=/[a-z\-]+-gradient/g,o="",a="",me=function(){var e=/^(?:O|Moz|webkit|ms)|(?:-(?:o|moz|webkit|ms)-)/;if(l){var t,n=l(b,null);for(t in n)if(o=t.match(e)||+t==t&&n[t].match(e))break;o?"-"===(o=o[0]).slice(0,1)?o={"-webkit-":"webkit","-moz-":"Moz","-ms-":"ms","-o-":"O"}[a=o]:a="-"+o.toLowerCase()+"-":o=a=""}},pe=function(){var e=h.requestAnimationFrame||h[o.toLowerCase()+"RequestAnimationFrame"],n=G();return e=!X&&e?e:function(e){var t=G()-n,t=S.max(0,1e3/60-t);return h.setTimeout(function(){n=G(),e()},t)}},I={begin:function(){return 0},end:function(){return 1},linear:function(e){return e},quadratic:function(e){return e*e},cubic:function(e){return e*e*e},swing:function(e){return-S.cos(e*S.PI)/2+.5},sqrt:function(e){return S.sqrt(e)},outCubic:function(e){return S.pow(e-1,3)+1},bounce:function(e){var t;if(e<=.5083)t=3;else if(e<=.8489)t=9;else if(e<=.96208)t=27;else{if(!(e<=.99981))return 1;t=91}return 1-S.abs(3*S.cos(e*t*1.028)/t)}};function t(e){if(y=T.documentElement,b=T.body,me(),P=this,i=(e=e||{}).constants||{},e.easing)for(var t in e.easing)I[t]=e.easing[t];ge=e.edgeStrategy||"set",V={beforerender:e.beforerender,render:e.render,keyframe:e.keyframe},(d=!1!==e.forceHeight)&&(ze=e.scale||1),w=e.mobileDeceleration||p,de=!1!==e.smoothScrolling,q=e.smoothScrollingDuration||v,L={targetTop:P.getScrollTop()},(X=(e.mobileCheck||function(){return/Android|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent||navigator.vendor||h.opera)})())?((O=T.getElementById(e.skrollrBody||g))&&Ee(),he(),_(y,[r,u],[s])):_(y,[r,f],[s]),P.refresh(),Ae(h,"resize orientationchange",function(){var e=y.clientWidth,t=y.clientHeight;t===Me&&e===Le||(Me=t,Le=e,U=!0)});var n=pe();return function e(){ye(),ve=n(e)}(),P}t.prototype.refresh=function(e){var t,n,r=!1;for(e===C?(r=!0,N=[],$e=0,e=T.getElementsByTagName("*")):e.length===C&&(e=[e]),t=0,n=e.length;t<n;t++){var o=e[t],a=o,i=[],l=de,s=ge,c=!1;if(r&&k in o&&delete o[k],o.attributes){for(var f,u,m,p=0,d=o.attributes.length;p<d;p++){var g,v,h=o.attributes[p];if("data-anchor-target"===h.name){if(null===(a=T.querySelector(h.value)))throw'Unable to find anchor target "'+h.value+'"'}else"data-smooth-scrolling"===h.name?l="off"!==h.value:"data-edge-strategy"===h.name?s=h.value:"data-emit-events"===h.name?c=!0:null!==(v=h.name.match(oe))&&(h={props:h.value,element:o,eventType:h.name.replace(le,x)},i.push(h),(g=v[1])&&(h.constant=g.substr(1)),g=v[2],/p$/.test(g)?(h.isPercentage=!0,h.offset=(0|g.slice(0,-1))/100):h.offset=0|g,g=v[3],v=v[4]||g,g&&"start"!==g&&"end"!==g?(h.mode="relative",h.anchors=[g,v]):(h.mode="absolute","end"===g?h.isEnd=!0:h.isPercentage||(h.offset=h.offset*ze)))}i.length&&(m=!r&&k in o?(u=o[k],f=N[u].styleAttr,N[u].classAttr):(u=o[k]=$e++,f=o.style.cssText,Ne(o)),N[u]={element:o,styleAttr:f,classAttr:m,anchorTarget:a,keyFrames:i,smoothScrolling:l,edgeStrategy:s,emitEvents:c,lastFrameIndex:-1},_(o,[D],[]))}}for(De(),t=0,n=e.length;t<n;t++){var y=N[e[t][k]];y!==C&&(Te(y),Se(y))}return P},t.prototype.relativeToAbsolute=function(e,t,n){var r=y.clientHeight,e=e.getBoundingClientRect(),o=e.top,e=e.bottom-e.top;return t===ne?o-=r:t===te&&(o-=r/2),n===ne?o+=e:n===te&&(o+=e/2),(o+=P.getScrollTop())+.5|0},t.prototype.animateTo=function(e,t){t=t||{};var n=G(),r=P.getScrollTop(),o=t.duration===C?1e3:t.duration;return(z={startTop:r,topDiff:e-r,targetTop:e,duration:o,startTime:n,endTime:n+o,easing:I[t.easing||m],done:t.done}).topDiff||(z.done&&z.done.call(P,!1),z=C),P},t.prototype.stopAnimateTo=function(){z&&z.done&&z.done.call(P,!0),z=C},t.prototype.isAnimatingTo=function(){return!!z},t.prototype.isMobile=function(){return X},t.prototype.setScrollTop=function(e,t){return M=!0===t,X?j=S.min(S.max(e,0),K):h.scrollTo(0,e),P},t.prototype.getScrollTop=function(){return X?j:h.pageYOffset||y.scrollTop||b.scrollTop||0},t.prototype.getMaxScrollTop=function(){return K},t.prototype.on=function(e,t){return V[e]=t,P},t.prototype.off=function(e){return delete V[e],P},t.prototype.destroy=function(){e=h.cancelAnimationFrame||h[o.toLowerCase()+"CancelAnimationFrame"],e=!X&&e?e:function(e){return h.clearTimeout(e)};e(ve),Ce(),_(y,[s],[r,f,u]);for(var e,t=0,n=N.length;t<n;t++)B(N[t].element);y.style.overflow=b.style.overflow="",y.style.height=b.style.height="",O&&H.setStyle(O,"transform","none"),Y="down",X=U=!(R=-(ze=1)),j=$e=Me=Le=K=0,$=ge=M=L=q=de=z=w=i=d=V=O=P=C};var P,N,O,V,d,i,w,z,de,q,L,M,ge,$,ve,he=function(){var i,l,s,c,f,u,m,p,d,g,v;Ae(y,[E,A,F,Z].join(" "),function(e){var t=e.changedTouches[0];for(c=e.target;3===c.nodeType;)c=c.parentNode;switch(f=t.clientY,u=t.clientX,d=e.timeStamp,re.test(c.tagName)||e.preventDefault(),e.type){case E:i&&i.blur(),P.stopAnimateTo(),i=c,l=m=f,s=u,0;break;case A:re.test(c.tagName)&&T.activeElement!==c&&e.preventDefault(),p=f-m,v=d-g,P.setScrollTop(j-p,!0),m=f,g=d;break;default:case F:case Z:var n,r,o=l-f,a=s-u;a*a+o*o<49?re.test(i.tagName)||(i.focus(),(a=T.createEvent("MouseEvents")).initMouseEvent("click",!0,!0,e.view,1,t.screenX,t.screenY,t.clientX,t.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,0,null),i.dispatchEvent(a)):(i=C,o=p/v,o=(o=S.max(S.min(o,3),-3))*(a=S.abs(o/w))+.5*w*a*a,n=P.getScrollTop()-o,r=0,K<n?(r=(K-n)/o,n=K):n<0&&(r=-n/o,n=0),P.animateTo(n+.5|0,{easing:"outCubic",duration:a*=1-r}))}}),h.scrollTo(0,0),y.style.overflow=b.style.overflow="hidden"},ye=function(){U&&(U=!1,De());var e,t,n=P.getScrollTop(),r=G();if(z?(r>=z.endTime?(n=z.targetTop,e=z.done,z=C):(t=z.easing((r-z.startTime)/z.duration),n=z.startTop+t*z.topDiff|0),P.setScrollTop(n,!0)):M||(o=L.targetTop-n,r<=(L=o?{startTop:R,topDiff:n-R,targetTop:n,startTime:qe,endTime:qe+q}:L).endTime&&(t=I.sqrt((r-L.startTime)/q),n=L.startTop+t*L.topDiff|0)),M||R!==n){var o={curTop:n,lastTop:R,maxTop:K,direction:Y=R<n?"down":n<R?"up":Y};if((M=!1)!==(V.beforerender&&V.beforerender.call(P,o))){for(var a=n,i=P.getScrollTop(),l=0,s=N.length;l<s;l++){var c,f=N[l],u=f.element,m=f.smoothScrolling?a:i,p=f.keyFrames,d=p.length,g=p[0],v=p[p.length-1],h=m<g.frame,y=m>v.frame,T=h?g:v,b=f.emitEvents,S=f.lastFrameIndex;if(h||y){if(h&&-1===f.edge||y&&1===f.edge)continue;switch(h?(_(u,[J],[ee,Q]),b&&-1<S&&(He(u,g.eventType,Y),f.lastFrameIndex=-1)):(_(u,[ee],[J,Q]),b&&S<d&&(He(u,v.eventType,Y),f.lastFrameIndex=d)),f.edge=h?-1:1,f.edgeStrategy){case"reset":B(u);continue;case"ease":m=T.frame;break;default:var k=T.props;for(c in k)W.call(k,c)&&(E=xe(k[c].value),0===c.indexOf("@")?u.setAttribute(c.substr(1),E):H.setStyle(u,c,E));continue}}else 0!==f.edge&&(_(u,[D,Q],[J,ee]),f.edge=0);for(var w=0;w<d-1;w++)if(m>=p[w].frame&&m<=p[w+1].frame){var x,E,A=p[w],F=p[w+1];for(c in A.props)W.call(A.props,c)&&(x=(m-A.frame)/(F.frame-A.frame),x=A.props[c].easing(x),E=we(A.props[c].value,F.props[c].value,x),E=xe(E),0===c.indexOf("@")?u.setAttribute(c.substr(1),E):H.setStyle(u,c,E));b&&S!==w&&(He(u,("down"===Y?A:F).eventType,Y),f.lastFrameIndex=w);break}}X&&O&&H.setStyle(O,"transform","translate(0, "+-j+"px) "+$),R=n,V.render&&V.render.call(P,o)}e&&e.call(P,!1)}qe=r},Te=function(e){for(var t=0,n=e.keyFrames.length;t<n;t++){for(var r,o,a,i=e.keyFrames[t],l={};null!==(a=ae.exec(i.props));)o=a[1],a=a[2],r=null!==(r=o.match(ie))?(o=r[1],r[2]):m,a=a.indexOf("!")?be(a):[a.slice(1)],l[o]={value:a,easing:I[r]};i.props=l}},be=function(e){var t=[];return fe.lastIndex=0,e=e.replace(fe,function(e){return e.replace(se,function(e){return e/255*100+"%"})}),a&&(ue.lastIndex=0,e=e.replace(ue,function(e){return a+e})),e=e.replace(se,function(e){return t.push(+e),"{?}"}),t.unshift(e),t},Se=function(e){for(var t={},n=0,r=e.keyFrames.length;n<r;n++)ke(e.keyFrames[n],t);for(t={},n=e.keyFrames.length-1;0<=n;n--)ke(e.keyFrames[n],t)},ke=function(e,t){for(var n in t)W.call(e.props,n)||(e.props[n]=t[n]);for(n in e.props)t[n]=e.props[n]},we=function(e,t,n){var r=e.length;if(r!==t.length)throw"Can't interpolate between \""+e[0]+'" and "'+t[0]+'"';for(var o=[e[0]],a=1;a<r;a++)o[a]=e[a]+(t[a]-e[a])*n;return o},xe=function(e){var t=1;return ce.lastIndex=0,e[0].replace(ce,function(){return e[t++]})},B=function(e,t){for(var n,r,o=0,a=(e=[].concat(e)).length;o<a;o++)r=e[o],(n=N[r[k]])&&(t?(r.style.cssText=n.dirtyStyleAttr,_(r,n.dirtyClassAttr)):(n.dirtyStyleAttr=r.style.cssText,n.dirtyClassAttr=Ne(r),r.style.cssText=n.styleAttr,_(r,n.classAttr)))},Ee=function(){$="translateZ(0)",H.setStyle(O,"transform",$);var e=l(O),t=e.getPropertyValue("transform"),e=e.getPropertyValue(a+"transform");t&&"none"!==t||e&&"none"!==e||($="")},Ae=(H.setStyle=function(e,t,n){e=e.style;if("zIndex"===(t=t.replace(le,x).replace("-","")))isNaN(n)?e[t]=n:e[t]=""+(0|n);else if("float"===t)e.styleFloat=e.cssFloat=n;else try{o&&(e[o+t.slice(0,1).toUpperCase()+t.slice(1)]=n),e[t]=n}catch(e){}},H.addEvent=function(e,t,n){for(var r,o=function(e){return(e=e||h.event).target||(e.target=e.srcElement),e.preventDefault||(e.preventDefault=function(){e.returnValue=!1,e.defaultPrevented=!0}),n.call(this,e)},a=0,i=(t=t.split(" ")).length;a<i;a++)r=t[a],e.addEventListener?e.addEventListener(r,n,!1):e.attachEvent("on"+r,o),Be.push({element:e,name:r,listener:n})}),Fe=H.removeEvent=function(e,t,n){for(var r=0,o=(t=t.split(" ")).length;r<o;r++)e.removeEventListener?e.removeEventListener(t[r],n,!1):e.detachEvent("on"+t[r],n)},Ce=function(){for(var e,t=0,n=Be.length;t<n;t++)e=Be[t],Fe(e.element,e.name,e.listener);Be=[]},He=function(e,t,n){V.keyframe&&V.keyframe.call(P,e,t,n)},De=function(){var e=P.getScrollTop();K=0,d&&!X&&(b.style.height="");for(var t,n,r,o,a,i,l,s,c,f=y.clientHeight,u=Ie(),m=0,p=N.length;m<p;m++)for(n=(t=N[m]).element,r=t.anchorTarget,a=0,i=(o=t.keyFrames).length;a<i;a++)s=(l=o[a]).offset,c=u[l.constant]||0,l.frame=s,l.isPercentage&&(l.frame=s*=f),"relative"===l.mode&&(B(n),l.frame=P.relativeToAbsolute(r,l.anchors[0],l.anchors[1])-s,B(n,!0)),l.frame+=c,d&&!l.isEnd&&l.frame>K&&(K=l.frame);for(K=S.max(K,Pe()),m=0,p=N.length;m<p;m++){for(a=0,i=(o=(t=N[m]).keyFrames).length;a<i;a++)c=u[(l=o[a]).constant]||0,l.isEnd&&(l.frame=K-l.offset+c);t.keyFrames.sort(Ve)}d&&!X&&(b.style.height=K+y.clientHeight+"px"),X?P.setScrollTop(S.min(P.getScrollTop(),K)):P.setScrollTop(e,!0),M=!0},Ie=function(){var e,t,n=y.clientHeight,r={};for(e in i)"function"==typeof(t=i[e])?t=t.call(P):/p$/.test(t)&&(t=t.slice(0,-1)/100*n),r[e]=t;return r},Pe=function(){var e=0;return O&&(e=S.max(O.offsetHeight,O.scrollHeight)),S.max(e,b.scrollHeight,b.offsetHeight,y.scrollHeight,y.offsetHeight,y.clientHeight)-y.clientHeight},Ne=function(e){var t="className";return h.SVGElement&&e instanceof h.SVGElement&&(e=e[t],t="baseVal"),e[t]},_=function(e,t,n){var r="className";if(h.SVGElement&&e instanceof h.SVGElement&&(e=e[r],r="baseVal"),n===C)e[r]=t;else{for(var o=e[r],a=0,i=n.length;a<i;a++)o=c(o).replace(c(n[a])," ");for(var o=Oe(o),l=0,s=t.length;l<s;l++)-1===c(o).indexOf(c(t[l]))&&(o+=" "+t[l]);e[r]=Oe(o)}},Oe=function(e){return e.replace(n,"")},c=function(e){return" "+e+" "},G=Date.now||function(){return+new Date},Ve=function(e,t){return e.frame-t.frame},K=0,ze=1,Y="down",R=-1,qe=G(),Le=0,Me=0,U=!1,$e=0,X=!1,j=0,Be=[];"function"==typeof define&&define.amd?define([],function(){return H}):"undefined"!=typeof module&&module.exports?module.exports=H:h.skrollr=H}(window,document);